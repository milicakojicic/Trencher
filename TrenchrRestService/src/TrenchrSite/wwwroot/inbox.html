<!doctype html>

<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="description" content="A front-end template that helps you build fast, modern mobile web apps.">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>Sanduce</title>

    <link rel="shortcut icon" href="images/logoT.JPG">

    <link rel="stylesheet" href="fonts.css">
    <link rel="stylesheet" href="icons.css">
    <link rel="stylesheet" href="material-gray-orange.css">
    <link rel="stylesheet" href="styles.css">

    <script src="javascript/jquery-2.1.1.js"></script>
    <script src="javascript/jquery.signalR-2.2.1.js"></script>
    <script src="http://localhost:12345/signalr/hubs"></script>

    <script src="javascript/material.js"></script>
    <script src="javascript/inbox.js"></script>

    <link href="select2.min.css" rel="stylesheet" />
    <script src="javascript/select2.min.js"></script>

    <style>
        #view-source {
            position: fixed;
            display: block;
            right: 0;
            bottom: 0;
            margin-right: 40px;
            margin-bottom: 40px;
            z-index: 900;
        }
    </style>
</head>

<body>

<div class="demo-blog mdl-layout mdl-js-layout has-drawer is-upgraded mdl-layout--fixed-header">
    <div class="mdl-layout mdl-js-layout mdl-layout--fixed-drawer
            mdl-layout--fixed-header">
        <header class="mdl-layout__header">
            <div class="mdl-layout__header-row">
                <span>
                    <img src="images/logoT.JPG" style="width: 25px; height: 25px;"/>
                </span>
                <span class="trenchr" id="ime_grupe">Sanduče</span>
                <div class="mdl-layout-spacer"></div>
                <div class="mdl-textfield mdl-js-textfield mdl-textfield--expandable
                  mdl-textfield--floating-label mdl-textfield--align-right ikonica_header">
                    <label class="mdl-button mdl-js-button mdl-button--icon"
                           for="fixed-header-drawer-exp">
                        <i class="material-icons ikonica_header">search</i>
                    </label>
                    <div class="mdl-textfield__expandable-holder">
                        <input class="mdl-textfield__input" type="text" name="sample"
                               id="fixed-header-drawer-exp" placeholder="pretraži grupe" list="trazi_grupe">
                        <datalist id="trazi_grupe">
                        </datalist>
                    </div>
                </div>
            </div>
        </header>

        <div class="demo-drawer mdl-layout__drawer mdl-color--blue-grey-900 mdl-color-text--blue-grey-50">
            <header class="demo-drawer-header">
                <span id="korisnik">
                </span>
                <span id="mail">
                </span>
            </header>
            <nav class="demo-navigation mdl-navigation mdl-color--blue-grey-800">
                <a class="mdl-navigation__link" href="default.html"><i class="mdl-color-text--blue-grey-400 material-icons" role="presentation" style="margin-right: 20px;">home</i>Početna  <span class="notification notification_hidden"> 10 </span></a>
                <a class="mdl-navigation__link" href="inbox.html"><i class="mdl-color-text--blue-grey-400 material-icons" role="presentation" style="margin-right: 20px;">chat</i>Poruke  <span class="notification notification_hidden"> 10 </span></a>
                <a class="mdl-navigation__link" href="findGroups.html"><i class="mdl-color-text--blue-grey-400 material-icons" role="presentation" style="margin-right: 20px;">search</i>Pretraži grupe</a>
                <a class="mdl-navigation__link" href="profile.html"><i class="mdl-color-text--blue-grey-400 material-icons" role="presentation" style="margin-right: 20px;">face</i>Moj profil</a>
                <div class="mdl-layout-spacer"></div>
            </nav>
        </div>

        <main class="default mdl-layout__content">
            <div class="mdl-grid">
                <div class="mdl-cell mdl-cell--2-col"></div>
                <div class="mdl-cell mdl-cell--8-col" id="primalac">
                    <select class="js-example-data-array" id="pretraziOsobe" name="osobe" data-placeholder="Odaberite osobu" multiple></select>
                </div>
                <div class="mdl-cell mdl-cell--2-col"></div>
            </div>

            <!-- Prikaz svih poruka -->
            <div class="mdl-grid">
                <div class="mdl-cell mdl-cell--2-col"></div>
                <div class="mdl-cell mdl-cell--8-col">
                    <div class="messages" id="poruke">
                    </div>
                </div>
                <div class="mdl-cell mdl-cell--2-col"></div>
            </div> <!--grid-->

            <!-- Forma za pisanje pojdinacne poruke -->
            <div class="mdl-grid">
                <div class="mdl-cell mdl-cell--2-col"></div>
                <div class="mdl-cell mdl-cell--8-col">
                    <div id="message">
                        <form>
                            <div class="mdl-textfield mdl-js-textfield" id="porukaDiv">
                                <textarea class="mdl-textfield__input center" type="text" rows="3" id="poruka"></textarea>
                                <label class="mdl-textfield__label" for="poruka">Napisi poruku...</label>
                            </div>
                            <button style="width: 100px" class="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect mdl-button--accent 
                                    postButton" id="posaljiPoruku" onclick="posaljiPoruku()"> Pošalji </button>
                        </form>
                    </div>
                </div>
                <div class="mdl-cell mdl-cell--2-col"></div>
            </div> <!--grid-->

            <!-- Notifikacioni prozor -->
            <div class="mdl-grid" id="notifikacioniProzor">
                <div class="mdl-cell mdl-cell--8-col"></div>
                <div class="mdl-cell mdl-cell--2-col" id="notifikacija">
                    <span id="notifikacijaHeader"> test </span> <br />
                    <span id="notifikacijaPosiljalac"> test </span> <br />
                    <span id="notifikacijaTekst"> test </span> <br />
                    <button id="procitaj" onclick="procitaj()"> Procitaj </button>
                </div>
                <div class="mdl-cell mdl-cell--2-col"></div>
            </div>
        </main>

        <div class="mdl-layout__obfuscator"></div>
    </div>
    <script src="javascript/inbox.js"></script>
</body>

<script>
    Array.prototype.forEach.call(document.querySelectorAll('.mdl-card__media'), function(el) {
        var link = el.querySelector('a');
        if(!link) {
            return;
        }
        var target = link.getAttribute('href');
        if(!target) {
            return;
        }
        el.addEventListener('click', function() {
            location.href = target;
        });
    });
</script>
</html>
